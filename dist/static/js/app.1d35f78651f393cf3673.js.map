{"version":3,"sources":["webpack:///src/components/AddressForm.vue","webpack:///./src/components/AddressForm.vue?c05f","webpack:///src/App.vue","webpack:///./src/components/AddressForm.vue","webpack:///./src/App.vue?191b","webpack:///./src/App.vue","webpack:///./src/store/models/parcel.js","webpack:///./src/store/modules/address.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["AddressForm","computed","extends_default","Object","vuex_esm","searching","input","components_AddressForm","render","_vm","this","_h","$createElement","_c","_self","on","submit","$event","preventDefault","search","staticClass","directives","name","rawName","value","expression","attrs","placeholder","autocomplete","required","domProps","target","composing","_v","class","btnClass","type","btnIcon","_s","btnText","helpText","_e","staticRenderFns","App","__webpack_require__","normalizeComponent","ssrContext","methods","_this","err","folio","selectortype_template_index_0_src_App","id","tag","$store","state","src_App","App_normalizeComponent","Parcel","feature","classCallCheck_default","attributes","FOLIO","address","SITE_ADDR","geometry","location","parcel","actions","findAddressAndParcel","_ref","dispatch","then","findAddress","_ref2","commit","esri_loader","_ref3","Locator","slicedToArray_default","url","outSpatialReference","wkid","addressToLocations","SingleLine","maxLocations","response","length","Error","fetchParcel","_ref5","returnGeometry","arguments","undefined","_ref6","_ref7","QueryTask","Query","queryTask","esriEndpointUrl","query","outFields","esriFields","esriWkid","execute","features","mutations","setLocation","data","setParcel","setFormIsSearching","vue_esm","use","store","Store","modules","config","productionTip","el","template","components"],"mappings":"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","file":"static/js/app.1d35f78651f393cf3673.js","sourcesContent":["<template lang=\"html\">\n  <form @submit.prevent=\"search\">\n\n    <!-- <details open><pre>{{ $store.state.address }}</pre></details> -->\n\n    <div class=\"form-group\">\n\n      <div class=\"input-group input-group-lg\">\n        <input class=\"form-control\" v-model=\"input\" :placeholder=\"placeholder\" autocomplete=\"off\" required>\n        <span class=\"input-group-btn\">\n          <button class=\"btn text-white\" :class=\"btnClass\" type=\"submit\">\n            <i :class=\"btnIcon\"></i>\n            <span class=\"d-none d-sm-inline-block\">\n              {{ btnText }}\n            </span>\n          </button>\n        </span>\n      </div>\n\n      <small v-if=\"helpText\" class=\"form-text text-muted\">\n        {{ helpText }}\n      </small>\n\n    </div>\n  </form>\n</template>\n\n<script>\nimport { mapState } from 'vuex'\n\nexport default {\n  name: 'address-form',\n  data () {\n    return {\n      input: '',\n      placeholder: 'Your Street Address...',\n      helpText: null\n    }\n  },\n  computed: {\n    ...mapState({\n      searching: state => state.address.searching\n    }),\n    btnText () {\n      // return (this.searching) ? 'Loading' : 'Find'\n      return 'Find'\n    },\n    btnClass () {\n      return (this.searching) ? 'btn-warning' : 'btn-secondary'\n    },\n    btnIcon () {\n      return (this.searching) ? 'fa fa-fw fa-spinner fa-spin' : 'fa fa-fw fa-search'\n    }\n  },\n  methods: {\n    search () {\n      this.$emit('search', this.input)\n    }\n  }\n}\n</script>\n\n<style scope>\n.btn {\n  white-space: nowrap;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AddressForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();_vm.search($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"input-group input-group-lg\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],staticClass:\"form-control\",attrs:{\"placeholder\":_vm.placeholder,\"autocomplete\":\"off\",\"required\":\"\"},domProps:{\"value\":(_vm.input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-btn\"},[_c('button',{staticClass:\"btn text-white\",class:_vm.btnClass,attrs:{\"type\":\"submit\"}},[_c('i',{class:_vm.btnIcon}),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"\\n            \"+_vm._s(_vm.btnText)+\"\\n          \")])])])]),_vm._v(\" \"),(_vm.helpText)?_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.helpText)+\"\\n    \")]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-29b51c37\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AddressForm.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n\n    <div is=\"AddressForm\" v-on:search=\"search\"></div>\n\n    <pre class=\"bg-dark text-light p-2\">{{ $store.state }}</pre>\n\n  </div>\n</template>\n\n<script>\nimport { mapState, mapActions, mapMutations } from 'vuex'\nimport AddressForm from '@/components/AddressForm'\n\nexport default {\n  name: 'app',\n  components: {\n    AddressForm\n  },\n  methods: {\n    search (searchInput) {\n      this.setFormIsSearching(true)\n      this.findAddressAndParcel(searchInput).then(() => {\n        this.setFormIsSearching(false)\n      }).catch(err => {\n        this.setFormIsSearching(false)\n        // error handler\n        console.error(err)\n      })\n    },\n    ...mapActions([\n      'findAddressAndParcel'\n    ]),\n    ...mapMutations([\n      'setFormIsSearching'\n    ])\n  },\n  computed: mapState({\n    folio: state => state.address.parcel.folio\n  })\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-29b51c37\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddressForm.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddressForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-29b51c37\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddressForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AddressForm.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c(\"AddressForm\",{tag:\"div\",on:{\"search\":_vm.search}}),_vm._v(\" \"),_c('pre',{staticClass:\"bg-dark text-light p-2\"},[_vm._v(_vm._s(_vm.$store.state))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-91d02932\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-91d02932\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export default class Parcel {\n  constructor (feature) {\n    this.folio = feature.attributes.FOLIO\n    this.address = feature.attributes.SITE_ADDR\n    this.geometry = feature.geometry\n  }\n\n  // esri settings\n  static esriEndpointUrl () {\n    return 'https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/HC_Parcels/MapServer/0'\n  }\n\n  static esriFields () {\n    return ['FOLIO', 'SITE_ADDR']\n  }\n\n  static esriWkid () {\n    return 102100\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/models/parcel.js","import * as esriLoader from 'esri-loader'\nimport Parcel from '../models/parcel'\n\n// const esriGeocoderUrl = 'http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer'\nconst esriGeocoderUrl = 'https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/DBO_composite_address_locator/GeocodeServer'\nconst esriWkid = 102100\n\n// vuex module\nexport default {\n  state: {\n    searching: false,\n    location: null,\n    parcel: null\n  },\n  actions: {\n    findAddressAndParcel ({dispatch}, input) {\n      return dispatch('findAddress', input).then(() => {\n        return dispatch('fetchParcel')\n      })\n    },\n    findAddress ({commit}, input) {\n      return esriLoader.loadModules([\n        'esri/tasks/Locator'\n      ])\n      .then(([Locator]) => {\n        var hcLocator = new Locator({\n          url: esriGeocoderUrl,\n          outSpatialReference: {wkid: esriWkid}\n        })\n\n        return hcLocator.addressToLocations({\n          address: {SingleLine: input},\n          maxLocations: 1\n        })\n        .then(response => {\n          if (response.length) {\n            commit('setLocation', response[0].location)\n          } else {\n            throw new Error('That address was not found in our records.')\n          }\n        })\n      })\n    },\n    fetchParcel ({state, commit}, returnGeometry = false) {\n      return esriLoader.loadModules([\n        'esri/tasks/QueryTask',\n        'esri/tasks/support/Query'\n      ])\n      .then(([QueryTask, Query]) => {\n        var queryTask = new QueryTask({\n          url: Parcel.esriEndpointUrl()\n        })\n\n        var query = new Query()\n        query.outFields = Parcel.esriFields()\n        query.outSpatialReference = {wkid: Parcel.esriWkid()}\n        query.returnGeometry = returnGeometry\n        query.geometry = state.location\n\n        return queryTask.execute(query).then(response => {\n          if (response.features.length) {\n            commit('setParcel', new Parcel(response.features[0]))\n          } else {\n            throw new Error('A parcel could not be matched to that address.')\n          }\n        })\n      })\n    }\n  },\n  mutations: {\n    setLocation (state, data) {\n      state.location = data\n    },\n    setParcel (state, data) {\n      state.parcel = data\n    },\n    setFormIsSearching (state, data) {\n      state.searching = data\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/address.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport address from './modules/address'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    address\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n// import router from './router'\nimport store from './store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  // router,\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}