{"version":3,"sources":["webpack:///./src/mixins/addressMixin.js","webpack:///src/components/AddressForm.vue","webpack:///./src/components/AddressForm.vue?0e2f","webpack:///src/App.vue","webpack:///./src/components/AddressForm.vue","webpack:///./src/App.vue?10de","webpack:///./src/App.vue","webpack:///./src/store/models/parcel.js","webpack:///./src/store/modules/address.js","webpack:///./src/store/index.js","webpack:///./src/main.js"],"names":["addressMixin","methods","extends_default","Object","vuex_esm","computed","folio","state","address","parcel","AddressForm","input","searching","addressInput","value","components_AddressForm","render","_vm","this","_h","$createElement","_c","_self","on","submit","$event","preventDefault","search","staticClass","directives","name","rawName","expression","attrs","placeholder","autocomplete","required","domProps","target","composing","_v","class","btnClass","type","btnIcon","_s","btnText","helpText","_e","staticRenderFns","App","__webpack_require__","normalizeComponent","_this","err","selectortype_template_index_0_src_App","id","tag","$store","src_App","App_normalizeComponent","Parcel","feature","classCallCheck_default","attributes","FOLIO","SITE_ADDR","geometry","location","actions","findAddressAndParcel","_ref","dispatch","returnGeometry","arguments","length","undefined","then","findAddress","_ref2","commit","esri_loader","_ref3","Locator","slicedToArray_default","url","outSpatialReference","wkid","addressToLocations","SingleLine","maxLocations","response","Error","fetchParcel","_ref5","_ref6","_ref7","QueryTask","Query","queryTask","esriEndpointUrl","query","outFields","esriFields","esriWkid","execute","features","mutations","setInput","data","setLocation","setParcel","setFormIsSearching","vue_esm","use","store","Store","modules","config","productionTip","el","template","components"],"mappings":"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","file":"static/js/app.15a6d1c15c1054f304ed.js","sourcesContent":["import { mapState, mapActions, mapMutations } from 'vuex'\n\nexport default {\n  methods: {\n    ...mapActions([\n      'findAddressAndParcel'\n    ]),\n    ...mapMutations([\n      'setFormIsSearching'\n    ])\n  },\n  computed: mapState({\n    folio: state => state.address.parcel.folio\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/mixins/addressMixin.js","<template lang=\"html\">\n  <form @submit.prevent=\"search\">\n\n    <div class=\"form-group\">\n\n      <div class=\"input-group input-group-lg\">\n        <input class=\"form-control\" v-model=\"input\" :placeholder=\"placeholder\" autocomplete=\"off\" required>\n        <span class=\"input-group-btn\">\n          <button class=\"btn text-white\" :class=\"btnClass\" type=\"submit\">\n            <i :class=\"btnIcon\"></i>\n            <span class=\"d-none d-sm-inline-block\">\n              {{ btnText }}\n            </span>\n          </button>\n        </span>\n      </div>\n\n      <small v-if=\"helpText\" class=\"form-text text-muted\">\n        {{ helpText }}\n      </small>\n\n    </div>\n  </form>\n</template>\n\n<script>\nimport { mapState, mapMutations } from 'vuex'\n\nexport default {\n  name: 'address-form',\n  data () {\n    return {\n      placeholder: 'Your Street Address...',\n      helpText: null\n    }\n  },\n  computed: {\n    ...mapState({\n      addressInput: state => state.address.input,\n      searching: state => state.address.searching\n    }),\n    input: {\n      get () {\n        return this.addressInput\n      },\n      set (value) {\n        this.setInput(value)\n      }\n    },\n    btnText () {\n      // return (this.searching) ? 'Loading' : 'Find'\n      return 'Find'\n    },\n    btnClass () {\n      return (this.searching) ? 'btn-warning' : 'btn-secondary'\n    },\n    btnIcon () {\n      return (this.searching) ? 'fa fa-fw fa-spinner fa-spin' : 'fa fa-fw fa-search'\n    }\n  },\n  methods: {\n    ...mapMutations(['setInput']),\n    search () {\n      this.$emit('search', this.input)\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/AddressForm.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();_vm.search($event)}}},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"input-group input-group-lg\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.input),expression:\"input\"}],staticClass:\"form-control\",attrs:{\"placeholder\":_vm.placeholder,\"autocomplete\":\"off\",\"required\":\"\"},domProps:{\"value\":(_vm.input)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.input=$event.target.value}}}),_vm._v(\" \"),_c('span',{staticClass:\"input-group-btn\"},[_c('button',{staticClass:\"btn text-white\",class:_vm.btnClass,attrs:{\"type\":\"submit\"}},[_c('i',{class:_vm.btnIcon}),_vm._v(\" \"),_c('span',{staticClass:\"d-none d-sm-inline-block\"},[_vm._v(\"\\n            \"+_vm._s(_vm.btnText)+\"\\n          \")])])])]),_vm._v(\" \"),(_vm.helpText)?_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.helpText)+\"\\n    \")]):_vm._e()])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2044b6f0\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/AddressForm.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n\n    <div is=\"AddressForm\" v-on:search=\"search\"></div>\n\n    <pre class=\"bg-dark text-light p-2\">{{ $store.state }}</pre>\n\n  </div>\n</template>\n\n<script>\nimport addressMixin from './mixins/addressMixin'\nimport AddressForm from '@/components/AddressForm'\n\nexport default {\n  name: 'app',\n  components: {\n    AddressForm\n  },\n  mixins: [\n    addressMixin\n  ],\n  methods: {\n    search (input) {\n      this.setFormIsSearching(true)\n      this.findAddressAndParcel(true).then(() => {\n        this.setFormIsSearching(false)\n      }).catch(err => {\n        this.setFormIsSearching(false)\n        // error handler\n        console.error(err)\n      })\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddressForm.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddressForm.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2044b6f0\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddressForm.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/AddressForm.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c(\"AddressForm\",{tag:\"div\",on:{\"search\":_vm.search}}),_vm._v(\" \"),_c('pre',{staticClass:\"bg-dark text-light p-2\"},[_vm._v(_vm._s(_vm.$store.state))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-3fd69f33\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3fd69f33\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","export default class Parcel {\n  constructor (feature) {\n    this.folio = feature.attributes.FOLIO\n    this.address = feature.attributes.SITE_ADDR\n    this.geometry = feature.geometry\n  }\n\n  // esri settings\n  static esriEndpointUrl () {\n    return 'https://maps.hillsboroughcounty.org/arcgis/rest/services/InfoLayers/HC_Parcels/MapServer/0'\n  }\n\n  static esriFields () {\n    return ['FOLIO', 'SITE_ADDR']\n  }\n\n  static esriWkid () {\n    return 102659\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/models/parcel.js","import * as esriLoader from 'esri-loader'\nimport Parcel from '../models/parcel'\n\n// const esriGeocoderUrl = 'http://geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer'\n// const esriGeocoderUrl = 'https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/DBO_composite_address_locator/GeocodeServer'\nconst esriGeocoderUrl = 'https://maps.hillsboroughcounty.org/arcgis/rest/services/Geocoding/Composite_Address_Locator_WebApps/GeocodeServer'\nconst esriWkid = 102659\n\n// vuex module\nexport default {\n  state: {\n    input: null,\n    searching: false,\n    location: null,\n    parcel: null\n  },\n  actions: {\n    findAddressAndParcel ({dispatch}, returnGeometry = false) {\n      return dispatch('findAddress').then(() => {\n        return dispatch('fetchParcel', returnGeometry)\n      })\n    },\n    findAddress ({state, commit}) {\n      commit('setLocation', null)\n      commit('setParcel', null)\n      return esriLoader.loadModules([\n        'esri/tasks/Locator'\n      ])\n      .then(([Locator]) => {\n        var hcLocator = new Locator({\n          url: esriGeocoderUrl,\n          outSpatialReference: {wkid: esriWkid}\n        })\n\n        return hcLocator.addressToLocations({\n          address: {SingleLine: state.input},\n          maxLocations: 1\n        })\n        .then(response => {\n          if (response.length) {\n            commit('setLocation', response[0].location)\n          } else {\n            throw new Error('That address was not found in our records.')\n          }\n        })\n      })\n    },\n    fetchParcel ({state, commit}, returnGeometry = false) {\n      return esriLoader.loadModules([\n        'esri/tasks/QueryTask',\n        'esri/tasks/support/Query'\n      ])\n      .then(([QueryTask, Query]) => {\n        var queryTask = new QueryTask({\n          url: Parcel.esriEndpointUrl()\n        })\n\n        var query = new Query()\n        query.outFields = Parcel.esriFields()\n        query.outSpatialReference = {wkid: Parcel.esriWkid()}\n        query.returnGeometry = returnGeometry\n        query.geometry = state.location\n\n        return queryTask.execute(query).then(response => {\n          if (response.features.length) {\n            commit('setParcel', new Parcel(response.features[0]))\n          } else {\n            throw new Error('A parcel could not be matched to that address.')\n          }\n        })\n      })\n    }\n  },\n  mutations: {\n    setInput (state, data) {\n      state.input = data\n    },\n    setLocation (state, data) {\n      state.location = data\n    },\n    setParcel (state, data) {\n      state.parcel = data\n    },\n    setFormIsSearching (state, data) {\n      state.searching = data\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/address.js","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport address from './modules/address'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    address\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\n// import router from './router'\nimport store from './store'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  // router,\n  store,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}